---
title: RCoinAPI - Part 2
author: Ramshreyas Rao
date: '2021-07-14'
slug: []
categories:
  - Crypto
tags: []
lastmod: '2021-07-14T16:38:41+05:30'
keywords: []
description: ''
comment: no
toc: no
autoCollapseToc: no
postMetaInFooter: no
hiddenFromHomePage: no
contentCopyright: no
reward: no
mathjax: no
mathjaxEnableSingleDollar: no
mathjaxEnableAutoNumber: no
hideHeaderAndFooter: no
flowchartDiagrams:
  enable: no
  options: ''
sequenceDiagrams:
  enable: no
  options: ''
---

# A closer look

![](images/Closer_Look_(5711020957).jpg)

### In [Part 1](http://localhost:4321/post/2021-07-05-rcoinapi/), 

we used RCoinAPI to get ETH/USD data to create and backtest a very simple Golden/Death-cross strategy.

In part deux, let's take a closer look at the OHLCV methods exposed by RCoinAPI.

## Setup

Load the library

``` {r}
library(rcoinapi)
```

Set your API key (Get your API key at
<https://www.coinapi.io/pricing?apikey>)

``` r
setApiKey("XXXXXXXXXXXXXXX")
```

## OHLCV

Get valid periodIds for OHLCV requests:

``` {r}
getOHLCVPeriods()
```

Get OHLCV latest timeseries data returned in time descending order. Data
can be requested by the period and symbol or asset pairs. If asset pairs
are used then timeseries in the response will contain data consolidated
across all most legitimate SPOT markets which contain both assets in any
order:

``` {r}
getLatestOHLCV("BITSTAMP_SPOT_BTC_USD", periodId = "1MIN", limit = 25)
head(BITSTAMP_SPOT_BTC_USD)
```
As you can see, this returns an xts object much like that returned by quantmod's [getSymbols](https://www.rdocumentation.org/packages/quantmod/versions/0.4.18/topics/getSymbols).

```{r}
getLatestOHLCV("BTC", "USD", periodId = "1HRS", limit = 25)
head(BTC_USD)
```


Get OHLCV timeseries data returned in time ascending order. Data can be
requested by the period and symbol or asset pairs. If asset pairs are
used then timeseries in the response will contain data consolidated
across all most legitimate SPOT markets which contain both assets in any
order..

``` r
getHistoricalOHLCV("BTC", "USD", periodId = "1MIN", timeStart = "2016-01-01T00:00:00", limit = 25)
```

